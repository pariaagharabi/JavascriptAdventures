<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simplify a given absolute path for a file in Unix-style</title>
</head>

<body>
    <p>
        142. Write a JavaScript program to simplify a given absolute path for a file in Unix-style.
    </p>
    <button onclick="eventHandler()">Run</button>
    <div id="showResult"></div>

    <script>
        function eventHandler() {
            const userPath = prompt("Enter an absolute path for a file in Unix-style:");

            const displayResult = `
            User's integer: ${userPath} <br>
            The result: ${simplifyAbsPath(userPath)}
            `;

            const tagResult = document.getElementById("showResult");
            tagResult.innerHTML = displayResult;
        }

        function simplifyAbsPath(mainPath) {
            const parts = mainPath.split('/');
            const newPath = [];
            let length = 0;
            for (var i = 0; i < parts.length; i++) {
                const part = parts[i];
                if (part === '.' || part === '' || part === '..') {
                    if (part === '..' && length > 0) {
                        length--;
                    }
                    continue;
                }
                newPath[length++] = part;
            }

            if (length === 0) {
                return '/';
            }

            let result = '';
            for (var i = 0; i < length; i++) {
                result += `/${newPath[i]}`;
            }

            return result;
        }

    </script>

</body>

</html>